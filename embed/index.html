<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protected Artwork</title>
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Artorizer">
    <meta name="twitter:card" content="summary_large_image">
    <script src="https://cdn.artorizer.com/dist/embed.js" defer></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { width: 100%; height: 100%; overflow: hidden; background: transparent; }
        #viewer { width: 100%; height: 100vh; display: flex; align-items: center; justify-content: center; }
        .artorize-image { max-width: 100%; max-height: 100vh; display: block; }
    </style>
</head>
<body>
    <div id="viewer">
        <div class="artorize-image" id="img" data-src="" data-sac="" data-opacity="0.5" data-alt="Protected artwork"></div>
    </div>
    <script>
        // Runs synchronously during parsing, before deferred embed.js executes.
        // Extracts artwork ID from URL and sets CDN URLs on the artorize-image element.
        (function() {
            var parts = window.location.pathname.split('/');
            var idx = parts.indexOf('embed');
            var id = (idx !== -1 && parts.length > idx + 1) ? parts[idx + 1] : null;
            if (!id) return;

            var el = document.getElementById('img');
            el.setAttribute('data-src', 'https://cdn.artorizer.com/api/artworks/' + id + '?variant=protected');
            el.setAttribute('data-sac', 'https://cdn.artorizer.com/api/artworks/' + id + '/mask');

            // OG tags for social sharing
            var imgUrl = 'https://cdn.artorizer.com/api/artworks/' + id + '?variant=protected';
            var m = document.createElement('meta'); m.setAttribute('property', 'og:image'); m.content = imgUrl; document.head.appendChild(m);
            m = document.createElement('meta'); m.setAttribute('property', 'og:url'); m.content = window.location.href; document.head.appendChild(m);
            m = document.createElement('meta'); m.setAttribute('name', 'twitter:image'); m.content = imgUrl; document.head.appendChild(m);
        })();
    </script>
</body>
</html>
